<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><title>David Springate's blog</title><link href="http://daspringate.github.com/atom.xml" rel="self" /><link href="http://daspringate.github.com" /><updated></updated><id>http://daspringate.github.com</id><author><name>@datajujitsu</name></author><entry><title>Scraping organism metadata for Treebase repositories from GOLD using Python and R</title><link>http://daspringate.github.com/2013-04/scraping_metadata.html</link><updated>2013-04-16T00:00:00</updated><id>http://daspringate.github.com/2013-04/scraping_metadata.html</id><content type="html">&lt;p&gt;I recently wanted to get hold of habitat/phenotype/sequencing metadata for the individual organisms of  an archived &lt;a href='http://treebase.org/treebase-web/home.html'&gt;Treebase&lt;/a&gt; project.)&lt;/p&gt;&lt;p&gt;The &lt;a href='http://www.genomesonline.org/'&gt;GOLD&lt;/a&gt; database holds  more than 18000 full genomes.  For many of these it provides pretty good metadata (&lt;a href='http://genomesonline.org/cgi-bin/GOLD/bin/GOLDCards.cgi?goldstamp=Gc00536'&gt;GOLDcards&lt;/a&gt;) which are indirectly linked  to Treebase via &lt;a href='http://www.ncbi.nlm.nih.gov/taxonomy'&gt;NCBI&lt;/a&gt; taxa &lt;a href='http://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&amp;amp;id=122368'&gt;IDs&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Unfortunately GOLD does not seem to have any kind of API for systematic downloads, so I hacked together a very &lt;a href='https://gist.github.com/2929217'&gt;quick-and-dirty scraper&lt;/a&gt; in Python that reads in taxa from a Treebase repo, follows the links to each species NCBI page and downloads the linked GOLDcard, if it exists.&lt;/p&gt;&lt;p&gt;Here is the code. You will need the external BeautifulSoup and lxml libraries for this to work - both are fantastic. (The Treebase repo here is from Wu et al. 2009**, just change the url string for a different repo...):&lt;/p&gt;&lt;p&gt;Once you have downloaded all of the available files, It would be great to have your metadata in a nice flatfile with one line per taxa, right?  I did this with a little &lt;a href='https://gist.github.com/2929366'&gt;R script&lt;/a&gt; using the rather wonderful readHTMLtable() function in the XML (install.packages('XML')) package. &lt;/p&gt;&lt;p&gt;The output is a semicolon separated file with taxa in the rows and the different categories of metadata in columns. The metadata is often fairly incomplete, and  there are plenty of omissions, but hopefully it will become more useful as more deposits are made to GOLD.&lt;/p&gt;&lt;p&gt;** Wu D., Hugenholtz P., Mavromatis K., Pukall R., Dalin E., Ivanova N.N., Kunin V., Goodwin L., Wu M., Tindall B.J., Hooper S.D., Pati A., Lykidis A., Spring S., Anderson I.J., Dâ€™haeseleer P., Zemla A., Singer M., Lapidus A., Nolan M., Copeland A., Chen F., Cheng J., Lucas S., Kerfeld C., Lang E., Gronow S., Chain P., Bruce D., Rubin E.M., Kyrpides N.C., Klenk H., &amp; Eisen J.A. 2009. A phylogeny-driven genomic encyclopaedia of Bacteria and Archaea. Nature, 462(7276): 1056-1060.&lt;/p&gt;</content></entry><entry><title>The quick brown fox</title><link>http://daspringate.github.com/2012-02/post2.html</link><updated>2012-02-02T00:00:00</updated><id>http://daspringate.github.com/2012-02/post2.html</id><content type="html">&lt;ul&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 10px; color: #cccccc;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 11px; color: #c7c7c7;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 12px; color: #c2c2c2;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 13px; color: #bdbdbd;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 14px; color: #b8b8b8;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 15px; color: #b3b3b3;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 16px; color: #aeaeae;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 17px; color: #a9a9a9;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 18px; color: #a4a4a4;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 19px; color: #9f9f9f;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 20px; color: #999999;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 21px; color: #949494;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 22px; color: #8f8f8f;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 23px; color: #8a8a8a;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 24px; color: #858585;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 25px; color: #808080;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 26px; color: #7b7b7b;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 27px; color: #767676;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 28px; color: #717171;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 29px; color: #6c6c6c;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 30px; color: #666666;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 31px; color: #616161;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 32px; color: #5c5c5c;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 33px; color: #575757;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 34px; color: #525252;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 35px; color: #4d4d4d;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 36px; color: #484848;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 37px; color: #434343;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 38px; color: #3e3e3e;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 39px; color: #393939;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 40px; color: #333333;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 41px; color: #2e2e2e;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 42px; color: #292929;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 43px; color: #242424;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 44px; color: #1f1f1f;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 45px; color: #1a1a1a;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 46px; color: #151515;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 47px; color: #101010;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 48px; color: #0b0b0b;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;p style=&quot;font-size: 49px; color: #060606;&quot;&gt;The quick brown fox jumps over the lazy dog&lt;/p&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;</content></entry><entry><title>A scheme interpreter</title><link>http://daspringate.github.com/2011-01/post1.html</link><updated>2011-01-01T00:00:00</updated><id>http://daspringate.github.com/2011-01/post1.html</id><content type="html">&lt;h2&gt;link to things...&lt;/h2&gt;&lt;p&gt;Sometimes it is worth noting just how important is is to be aware, to be in the moment...&lt;/p&gt;&lt;p&gt;&lt;h1&gt;This is a markdown heading&lt;/h1&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;hello&lt;/li&gt;&lt;li&gt;goodbye&lt;/li&gt;&lt;/ul&gt;&lt;a href='www.google.com'&gt;Google&lt;/a&gt; is a good place to look for things...&lt;pre&gt;&lt;code class=&quot;brush: clojure;&quot;&gt;
    &amp;#40;here &amp;#40;is &amp;#40;some &amp;#40;code&amp;#41;&amp;#41;&amp;#41;&amp;#41;
    &amp;#40;+ 1 2&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;&lt;li&gt;testing&lt;/li&gt;&lt;li&gt;1-2-3&lt;/li&gt;&lt;li&gt;a-b-c&lt;/li&gt;&lt;/ol&gt;&lt;code&gt;and some more code&lt;/code&gt;&lt;pre&gt;&lt;code&gt;
lm &amp;#40;people&amp;#126;flies &amp;#42; hospitals&amp;#41;
summary&amp;#40;&amp;#41;
&amp;#40;cat&amp;#40;woopas , nada, ping&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;h1&gt;FIN&lt;/h1&gt;&lt;h2&gt;FIN&lt;/h2&gt;&lt;h3&gt;FIN&lt;/h3&gt;&lt;h4&gt;FIN&lt;/h4&gt;&lt;h5&gt;FIN&lt;/h5&gt;  &lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(link &amp;quot;label&amp;quot; &amp;quot;http://localhost/&amp;quot;)
(link &amp;quot;http://localhost/&amp;quot;)
(link &amp;quot;`code`&amp;quot; &amp;quot;http://localhost/&amp;quot;)&lt;/pre&gt;&lt;a href=&quot;http://localhost/&quot;&gt;label&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;http://localhost/&quot;&gt;http://localhost/&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;http://localhost/&quot;&gt;&lt;code class=&quot;prettyprint&quot;&gt;code&lt;/code&gt;&lt;/a&gt;&lt;h2 id=&quot;G__2942&quot;&gt;&lt;span&gt;U&lt;/span&gt;nordered list&lt;a class=&quot;dagger&quot; href=&quot;#G__2942&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(ul (range 3))
(ul #(str &amp;quot;[&amp;quot; % &amp;quot;]&amp;quot;) (range 3))&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;0&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;1&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;2&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;&lt;span&gt;[0]&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;G__2943&quot;&gt;&lt;span&gt;D&lt;/span&gt;efinition list&lt;a class=&quot;dagger&quot; href=&quot;#G__2943&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(dl {:a 1, :b 2})
(dl [:hello &amp;quot;world&amp;quot; :foo &amp;quot;`bar`&amp;quot;])&lt;/pre&gt;&lt;dl&gt;&lt;dt&gt;a&lt;/dt&gt;&lt;dd&gt;1&lt;/dd&gt;&lt;dt&gt;b&lt;/dt&gt;&lt;dd&gt;2&lt;/dd&gt;&lt;/dl&gt;&lt;dl&gt;&lt;dt&gt;hello&lt;/dt&gt;&lt;dd&gt;world&lt;/dd&gt;&lt;dt&gt;foo&lt;/dt&gt;&lt;dd&gt;&lt;code class=&quot;prettyprint&quot;&gt;bar&lt;/code&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;h2 id=&quot;G__2944&quot;&gt;&lt;span&gt;B&lt;/span&gt;lock quote&lt;a class=&quot;dagger&quot; href=&quot;#G__2944&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(blockquote
  &amp;quot;foo
  bar&amp;quot;
  [:a {:href &amp;quot;#&amp;quot;} &amp;quot;baz&amp;quot;])&lt;/pre&gt;&lt;blockquote&gt;&lt;p&gt;foo&lt;/p&gt;&lt;p&gt;  bar&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;#&quot;&gt;baz&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id=&quot;G__2945&quot;&gt;&lt;span&gt;I&lt;/span&gt;nline code&lt;a class=&quot;dagger&quot; href=&quot;#G__2945&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(code &amp;quot;clojure.core/+&amp;quot;)&lt;/pre&gt;&lt;code class=&quot;prettyprint&quot;&gt;clojure.core/+&lt;/code&gt;&lt;h2 id=&quot;G__2946&quot;&gt;&lt;span&gt;S&lt;/span&gt;ource code&lt;a class=&quot;dagger&quot; href=&quot;#G__2946&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Comment out following code.&lt;/p&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;#-CLJ
(let [msg &amp;quot;world&amp;quot;]
  (println &amp;quot;hello,&amp;quot; msg))
CLJ&lt;/pre&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(let [msg &amp;quot;world&amp;quot;]
  (println &amp;quot;hello,&amp;quot; msg))&lt;/pre&gt;&lt;h2 id=&quot;G__2947&quot;&gt;&lt;span&gt;P&lt;/span&gt;aragraph&lt;a class=&quot;dagger&quot; href=&quot;#G__2947&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(p &amp;quot;hello, world&amp;quot;)
(p &amp;quot;paragraph with `inline` code&amp;quot;)&lt;/pre&gt;&lt;p class=&quot;paragraph&quot;&gt;hello, world&lt;/p&gt;&lt;p class=&quot;paragraph&quot;&gt;paragraph with &lt;code class=&quot;prettyprint&quot;&gt;inline&lt;/code&gt; code&lt;/p&gt;&lt;h2 id=&quot;G__2948&quot;&gt;&lt;span&gt;J&lt;/span&gt;avaScript&lt;a class=&quot;dagger&quot; href=&quot;#G__2948&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(js &amp;quot;a.js&amp;quot; &amp;quot;b.js&amp;quot;)&lt;/pre&gt;&lt;h2 id=&quot;G__2949&quot;&gt;&lt;span&gt;S&lt;/span&gt;tyle Sheet&lt;a class=&quot;dagger&quot; href=&quot;#G__2949&quot;&gt;&amp;dagger;&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;prettyprint lang-clj&quot;&gt;(css &amp;quot;a.css&amp;quot; &amp;quot;b.css&amp;quot;)&lt;/pre&gt;</content></entry></feed>